(this.webpackJsonpfractalup=this.webpackJsonpfractalup||[]).push([[0],{42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a.n(c),n=a(18),i=a.n(n),r=a(28),l=a(2),o=a(8),u=a(1),m=s.a.createContext({});function b(e){var t=e.children,a=Object(c.useState)([]),s=Object(o.a)(a,2),n=s[0],i=s[1];return Object(u.jsx)(m.Provider,{value:{userContext:n,setUserContext:i},children:t})}var j=m,d=a(10),O=a.n(d),x={endpoint:"https://accounts.spotify.com/authorize",redirect:"http://localhost:3000/",scopes:["user-read-currently-playing","user-read-recently-played","user-read-playback-state","user-read-email","user-read-private","user-modify-playback-state","user-top-read","user-library-read","streaming"],clientId:Object({NODE_ENV:"production",PUBLIC_URL:"/Foxbel",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CLI_ID||"f4c7bb5cbfcb490a8a518ca2847482d6",clientSecret:Object({NODE_ENV:"production",PUBLIC_URL:"/Foxbel",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CLI_SECRET||"171d59dd8e6543c29ff8f76646f039c3",clientPremiumToken:Object({NODE_ENV:"production",PUBLIC_URL:"/Foxbel",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CLI_PREMIUM_TOKEN||"BQCh88UsCvUvmfvEQUhziOGyHDoQ2NHD4TespjY69Y5SBWs4jJHPMKFysVIZOingUp27yr6pAPmOJGxisnfgm2MuXyXWbKfJiC-Eyz7o2X8AElkjCyPWCwSI_wDBS8RiPoiRt0AuqYRFwXFpNl8GXwGDH_RN16aSk-bk"},v="".concat(x.endpoint,"?client_id=").concat(x.clientId,"&redirect_uri=").concat(x.redirect,"&scope=").concat(x.scopes.join("%20"),"&response_type=token&show_dialog=true"),f=a(3),h=function(e){var t=e.className,a=e.theme;return Object(u.jsx)("picture",{children:"normal"===a?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("source",{media:"(min-width: 1024px)",srcSet:"./images/foxbel-music.png"}),Object(u.jsx)("source",{media:"(max-width: 768px)",srcSet:"./images/foxbel-music@2x.png"}),Object(u.jsx)("source",{media:"(max-width: 425px)",srcSet:"./images/foxbel-music@3.png"}),Object(u.jsx)("img",{className:t,src:"./images/foxbel-music.png",alt:"Foxbel Logo"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("source",{media:"(min-width: 1024px)",srcSet:"./images/foxbel-music-white.png"}),Object(u.jsx)("source",{media:"(max-width: 768px)",srcSet:"./images/foxbel-music-white@2x.png"}),Object(u.jsx)("source",{media:"(max-width: 425px)",srcSet:"./images/foxbel-music-white@3.png"}),Object(u.jsx)("img",{className:t,src:"./images/foxbel-music-white.png",alt:"Foxbel Logo"})]})})},_=new O.a,g=function(){var e=Object(c.useContext)(j),t=e.userContext,a=e.setUserContext,s=Object(c.useRef)(null);Object(c.useEffect)((function(){n("recents")}),[t.token]);var n=function(e,c){if(t.token)switch(e){case"recents":_.getMyRecentlyPlayedTracks({limit:20}).then((function(c){a(Object(f.a)(Object(f.a)({},t),{},{currentSection:e,currentData:c}))}));break;case"artists":_.getMyTopArtists({limit:20}).then((function(c){a(Object(f.a)(Object(f.a)({},t),{},{currentSection:e,currentData:c}))}));break;case"albums":_.getMySavedAlbums({limit:20}).then((function(c){a(Object(f.a)(Object(f.a)({},t),{},{currentSection:e,currentData:c}))}));break;case"musics":_.getMyTopTracks().then((function(c){a(Object(f.a)(Object(f.a)({},t),{},{currentSection:e,currentData:c}))}));break;case"saved":_.getMySavedTracks().then((function(c){a(Object(f.a)(Object(f.a)({},t),{},{currentSection:e,currentData:c}))}));break;case"genres":_.searchAlbums(c).then((function(c){a(Object(f.a)(Object(f.a)({},t),{},{currentSection:e,currentData:c}))}))}};return Object(u.jsxs)("aside",{className:"nav",ref:s,children:[Object(u.jsx)("button",{className:"nav_button_open",onClick:function(){console.log("Nav Open"),s.current.className="nav open"},children:Object(u.jsx)("i",{className:"fas fa-bars"})}),Object(u.jsx)("button",{className:"nav_button_close",onClick:function(){console.log("Nav Closed"),s.current.className="nav"},children:Object(u.jsx)("i",{className:"fas fa-times"})}),Object(u.jsx)(h,{className:"nav_logo",theme:"normal"}),Object(u.jsxs)("article",{className:"nav_article",children:[Object(u.jsx)("h2",{className:"nav_title",children:"Mi Librer\xeda"}),Object(u.jsxs)("div",{className:"nav_button_container",children:[Object(u.jsx)("button",{className:"nav_button",onClick:function(){return n("recents")},children:"Recientes"}),Object(u.jsx)("button",{className:"nav_button",onClick:function(){return n("artists")},children:"Artistas"}),Object(u.jsx)("button",{className:"nav_button",onClick:function(){return n("albums")},children:"\xc1lbums"}),Object(u.jsx)("button",{className:"nav_button",onClick:function(){return n("musics")},children:"Recomendados"}),Object(u.jsx)("button",{className:"nav_button",onClick:function(){return n("saved")},children:"Guardados"})]})]}),Object(u.jsxs)("article",{className:"nav_article",children:[Object(u.jsx)("h2",{className:"nav_title",children:"Playlist"}),Object(u.jsxs)("div",{className:"nav_button_container",children:[Object(u.jsx)("button",{className:"nav_button",onClick:function(){return n("genres","metal")},children:"Metal"}),Object(u.jsx)("button",{className:"nav_button",onClick:function(){return n("genres","dance")},children:"Para Bailar"}),Object(u.jsx)("button",{className:"nav_button",onClick:function(){return n("genres","rock")},children:"Rock 90s"}),Object(u.jsx)("button",{className:"nav_button",onClick:function(){return n("genres","ballad")},children:"Baladas"})]})]})]})},p=function(){var e=Object(c.useContext)(j),t=e.userContext,a=e.setUserContext,s={title:"",caption:"",image:"",extra:""};Object(c.useEffect)((function(){n("recents")}),[t.token]);var n=function(e){var a;if(t.currentSection)switch(e){case"recents":var c=t.currentData.items[0].track;a={title:c.name,caption:c.artists[0].name,image:c.album.images[0].url,extra:c.album.release_date,track:c.uri};break;case"artists":var s=t.currentData.items[0];a={title:s.name,caption:s.genres[0],image:s.images[0].url,extra:"".concat(s.followers.total," seguidores"),track:s.uri};break;case"albums":var n=t.currentData.items[0].album;a={title:n.name,caption:n.artists[0].name,image:n.images[0].url,extra:n.release_date,track:n.uri};break;case"musics":var i=t.currentData.items[0];a={title:i.name,caption:i.artists[0].name,image:i.album.images[0].url,extra:i.album.release_date,track:i.uri};break;case"saved":var r=t.currentData.items[0].track;a={title:r.name,caption:r.artists[0].name,image:r.album.images[0].url,extra:r.album.release_date,track:r.uri};break;case"genres":var l=t.currentData.albums.items[0];a={title:l.name,caption:l.artists[0].name,image:l.images[0].url,extra:l.release_date,track:l.uri}}return a},i=function(){a(Object(f.a)(Object(f.a)({},t),{},{currentTrack:s.track}))};return t.currentSection&&(s=n(t.currentSection)),Object(u.jsxs)("div",{className:"details",children:[Object(u.jsxs)("div",{className:"details_img_container",children:[Object(u.jsx)("img",{className:"details_img",src:s.image,alt:""}),Object(u.jsx)("button",{className:"details_img_button",onClick:i,children:Object(u.jsx)("i",{className:"fas fa-play"})})]}),Object(u.jsxs)("div",{className:"details_info_container",children:[Object(u.jsxs)("div",{className:"details_text_container",children:[Object(u.jsx)("h2",{className:"details_title",children:s.title}),Object(u.jsxs)("div",{className:"details_caption_container",children:[Object(u.jsx)("h4",{className:"details_caption",children:s.caption}),Object(u.jsx)("span",{className:"details_followers",children:s.extra})]}),Object(u.jsx)("p",{className:"details_description",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, sapiente dicta!"})]}),Object(u.jsxs)("div",{className:"details_buttons_container",children:[Object(u.jsx)("button",{className:"details_button-play",onClick:i,children:"Reproducir"}),Object(u.jsx)("button",{className:"details_button-follow",children:"Follow"}),Object(u.jsx)("button",{className:"details_button-menu",children:Object(u.jsx)("i",{className:"fas fa-ellipsis-h"})})]})]})]})},N=function(e){var t=e.title,a=e.caption,s=e.image,n=e.track,i=Object(c.useContext)(j),r=i.userContext,l=i.setUserContext;return Object(u.jsxs)("div",{className:"item",children:[Object(u.jsxs)("div",{className:"item_img_container",children:[Object(u.jsx)("img",{className:"item_img",src:s,alt:"Album"}),Object(u.jsx)("button",{className:"item_button-play",onClick:function(){l(Object(f.a)(Object(f.a)({},r),{},{currentTrack:n}))},children:Object(u.jsx)("i",{className:"fas fa-play"})}),Object(u.jsx)("button",{className:"item_button-menu",children:Object(u.jsx)("i",{className:"fas fa-ellipsis-v"})})]}),Object(u.jsx)("h3",{className:"item_title",children:t}),Object(u.jsx)("h4",{className:"item_caption",children:a})]})},k=function(){var e=Object(c.useContext)(j).userContext,t=e.currentSection,a=e.currentData;return Object(u.jsxs)("section",{className:"container",children:[Object(u.jsx)("h2",{className:"container_title",children:"Resultados"}),Object(u.jsxs)("div",{className:"container_grid",children:["recents"===t?a.items.map((function(e){return Object(u.jsx)(N,{title:null===e||void 0===e?void 0:e.track.name,caption:null===e||void 0===e?void 0:e.track.artists[0].name,image:null===e||void 0===e?void 0:e.track.album.images[0].url,track:null===e||void 0===e?void 0:e.track.uri},null===e||void 0===e?void 0:e.played_at)})):Object(u.jsx)(u.Fragment,{}),"artists"===t?a.items.map((function(e){return Object(u.jsx)(N,{title:null===e||void 0===e?void 0:e.name,caption:null===e||void 0===e?void 0:e.genres[0],image:null===e||void 0===e?void 0:e.images[0].url,track:null===e||void 0===e?void 0:e.uri},null===e||void 0===e?void 0:e.id)})):Object(u.jsx)(u.Fragment,{}),"albums"===t?a.items.map((function(e){return Object(u.jsx)(N,{title:null===e||void 0===e?void 0:e.album.name,caption:null===e||void 0===e?void 0:e.album.artists[0].name,image:null===e||void 0===e?void 0:e.album.images[0].url,track:null===e||void 0===e?void 0:e.album.uri},null===e||void 0===e?void 0:e.album.id)})):Object(u.jsx)(u.Fragment,{}),"musics"===t?a.items.map((function(e){return Object(u.jsx)(N,{title:null===e||void 0===e?void 0:e.name,caption:null===e||void 0===e?void 0:e.artists[0].name,image:null===e||void 0===e?void 0:e.album.images[0].url,track:null===e||void 0===e?void 0:e.uri},null===e||void 0===e?void 0:e.id)})):Object(u.jsx)(u.Fragment,{}),"saved"===t?a.items.map((function(e){return Object(u.jsx)(N,{title:null===e||void 0===e?void 0:e.track.name,caption:null===e||void 0===e?void 0:e.track.artists[0].name,image:null===e||void 0===e?void 0:e.track.album.images[0].url,track:null===e||void 0===e?void 0:e.track.uri},null===e||void 0===e?void 0:e.track.id)})):Object(u.jsx)(u.Fragment,{}),"genres"===t?a.albums.items.map((function(e){return Object(u.jsx)(N,{title:null===e||void 0===e?void 0:e.name,caption:null===e||void 0===e?void 0:e.artists[0].name,image:null===e||void 0===e?void 0:e.images[0].url,track:null===e||void 0===e?void 0:e.uri},null===e||void 0===e?void 0:e.id)})):Object(u.jsx)(u.Fragment,{})]})]})},C=function(e){var t=e.title,a=e.caption,s=e.image,n=e.track,i=Object(c.useContext)(j),r=i.userContext,l=i.setUserContext;return Object(u.jsxs)("button",{className:"browser_item",onClick:function(){l(Object(f.a)(Object(f.a)({},r),{},{currentTrack:n}))},children:[Object(u.jsxs)("div",{className:"browser_item_img_container",children:[Object(u.jsx)("img",{className:"browser_item_img",src:s,alt:""}),Object(u.jsx)("i",{className:"browser_item_icon fas fa-play"})]}),Object(u.jsx)("p",{className:"browser_item_title",children:t}),Object(u.jsx)("h4",{className:"browser_item_caption",children:a})]})},S=new O.a,w=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1],n=Object(c.useRef)(null);return Object(u.jsxs)("div",{className:"browser",onBlur:function(){setTimeout((function(){n.current.className="browser_item_container-hidden"}),500)},children:[Object(u.jsx)("input",{className:"browser_input",type:"text",placeholder:"Buscar",maxLength:"40",onChange:function(e){e.stopPropagation();var t=e.target.value;t?(n.current.className="browser_item_container",S.searchTracks(t).then((function(e){var t=e.tracks.items;console.log(t),s(t)}))):n.current.className="browser_item_container-hidden"}}),Object(u.jsx)("span",{className:"browser_icon",children:Object(u.jsx)("i",{className:"fas fa-search"})}),a?Object(u.jsx)("div",{ref:n,className:"browser_item_container-hidden",children:a.map((function(e){return Object(u.jsx)(C,{title:e.name,caption:e.artists[0].name,image:e.album.images[1].url,track:e.uri},e.id)}))}):Object(u.jsx)(u.Fragment,{})]})},y=function(){var e=Object(c.useContext)(j).userContext.user;return Object(u.jsxs)("div",{className:"user",children:[(null===e||void 0===e?void 0:e.images.length)>0?Object(u.jsx)("img",{className:"user_img",src:e.images[0].url,alt:null===e||void 0===e?void 0:e.display_name}):Object(u.jsx)("span",{className:"user_icon",children:Object(u.jsx)("i",{className:"fas fa-user"})}),Object(u.jsx)("span",{className:"user_username",children:(null===e||void 0===e?void 0:e.display_name)||"Username"})]})},T=function(){return Object(u.jsxs)("section",{className:"main",children:[Object(u.jsx)(w,{}),Object(u.jsx)(y,{}),Object(u.jsx)(p,{}),Object(u.jsx)(k,{})]})},E=a(29),D=function(e){var t=e.token,a=e.tracksUri,c=e.playState;return t?Object(u.jsx)(E.a,{token:t,uris:a||[],play:c,initialVolume:.5,magnifySliderOnHover:!0,styles:{activeColor:"#fff",bgColor:"#FF7676",color:"#fff",height:"60px",loaderColor:"#fff",sliderColor:"#1ed760",sliderHandleColor:"#191414",trackArtistColor:"#eee",trackNameColor:"#fff"}}):null},F=new O.a,R=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!1),i=Object(o.a)(n,2),r=i[0],m=i[1],b=Object(c.useState)(!0),d=Object(o.a)(b,2),O=d[0],x=d[1],v=Object(c.useContext)(j),f=v.userContext,h=v.setUserContext,_=window.location.hash.substring(1).split("&").reduce((function(e,t){var a=t.split("=");return e[a[0]]=decodeURIComponent(a[1]),e}),{}).access_token;Object(c.useEffect)((function(){_&&(F.setAccessToken(_),F.getMe().then((function(e){h({token:_,user:e})})))}),[]),Object(c.useEffect)((function(){O&&f.currentData&&(p(),x(!1))}),[f.currentData]),Object(c.useEffect)((function(){var e=f.currentTrack;e&&(m(!0),s(e))}),[f.currentTrack]);var p=function(){var e=f.currentData.items[0].track.uri;s(e)};if(_)return Object(u.jsxs)("main",{className:"home",children:[Object(u.jsx)(g,{}),Object(u.jsx)(T,{}),Object(u.jsx)(D,{token:_,tracksUri:a,playState:r})]});setTimeout((function(){return Object(u.jsx)(l.a,{to:"/login"})}),3e3)},P=function(){return Object(u.jsx)("main",{className:"login",children:Object(u.jsxs)("div",{className:"login_card",children:[Object(u.jsx)(h,{className:"login_logo",theme:"white"}),Object(u.jsx)("h2",{className:"login_text",children:"Por favor, Inicie Sesi\xf3n"}),Object(u.jsxs)("a",{className:"login_button",href:v,children:["Con Spotify ",Object(u.jsx)("i",{className:"fab fa-spotify"})]})]})})},U=function(){var e;return e="http://localhost:3000"===window.location.origin?"":"/Foxbel",Object(u.jsx)(b,{children:Object(u.jsx)(r.a,{basename:e,children:Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{exact:!0,path:"/",component:R}),Object(u.jsx)(l.b,{exact:!0,path:"/login",component:P})]})})})};a(42);i.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(U,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.89cc6b5f.chunk.js.map